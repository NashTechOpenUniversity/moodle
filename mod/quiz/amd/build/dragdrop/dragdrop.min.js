define("mod_quiz/dragdrop/dragdrop",["exports","core/reactive","mod_quiz/quiz_toolboxes","mod_quiz/dragdrop/selectors","mod_quiz/quiz_utils"],(function(_exports,_reactive,_quiz_toolboxes,_selectors,_quiz_utils){var obj;
/**
   * JavaScript for the add_random_form class.
   *
   * @module    mod_quiz/add_random_form
   * @copyright 2018 Ryan Wyllie <ryan@moodle.com>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_selectors=(obj=_selectors)&&obj.__esModule?obj:{default:obj};class _default extends _reactive.BaseComponent{create(descriptor){this.id=descriptor.id,this.quizid=descriptor.quizid,this.courseid=descriptor.courseid}stateReady(){this.dragdrop=new _reactive.DragDrop(this)}getWatchers(){return[{watch:"question:updated",handler:this._slotUpdated}]}destroy(){void 0!==this.dragdrop&&this.dragdrop.unregister()}_slotUpdated(element){if(element.element.id==this.id&&element.element.ismove){const dragElement=document.getElementById(element.element.id),dropZoneElement=document.getElementById(element.element.previousslotid);dropZoneElement.parentNode.insertBefore(dragElement,element.element.goingup?dropZoneElement:dropZoneElement.nextSibling),(0,_quiz_toolboxes.initResourceToolbox)(this.courseid,this.quizid,!1).reorganiseEditPage()}}getDraggableData(){const element=document.getElementById(this.id),sectionId=_quiz_utils.util.getNumber(element.closest(_selectors.default.MAIN_SECTION).id);return{id:this.id,slotorder:element.dataset.slotorder,page:element.dataset.page,courseid:this.courseid,quizid:this.quizid,sectionid:sectionId}}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=dragdrop.min.js.map