define("mod_quiz/dragdrop/dragdrop",["exports","core/reactive","mod_quiz/dragdrop/selectors","mod_quiz/quiz_utils"],(function(_exports,_reactive,_selectors,_quiz_utils){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0;
/**
   * JavaScript for the drag drop component.
   *
   * @module    mod_quiz/dragdrop/dragdrop
   * @copyright 2024 The Open University
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
class _default extends _reactive.BaseComponent{create(descriptor){this.id=descriptor.id,this.quizid=descriptor.quizid,this.courseid=descriptor.courseid}stateReady(){this.dragdrop=new _reactive.DragDrop(this)}getWatchers(){return[{watch:"question:updated",handler:this._slotUpdated}]}destroy(){void 0!==this.dragdrop&&this.dragdrop.unregister()}_slotUpdated(element){if(element.element.id!==this.id||!element.element.ismove)return;const dragElement=document.getElementById(element.element.id),dropZoneElement=document.getElementById(element.element.previousslotid);[dragElement.dataset.slotorder,dropZoneElement.dataset.slotorder]=[dropZoneElement.dataset.slotorder,dragElement.dataset.slotorder],[dragElement.dataset.page,dropZoneElement.dataset.page]=[dropZoneElement.dataset.page,dragElement.dataset.page],dropZoneElement.parentNode.insertBefore(dragElement,element.element.goingup?dropZoneElement:dropZoneElement.nextSibling)}getDraggableData(){const element=document.getElementById(this.id),sectionId=_quiz_utils.util.getNumber(element.closest(_selectors.SELECTORS.MAIN_SECTION).id);return{id:this.id,slotorder:element.dataset.slotorder,page:element.dataset.page,courseid:this.courseid,quizid:this.quizid,sectionid:sectionId}}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=dragdrop.min.js.map