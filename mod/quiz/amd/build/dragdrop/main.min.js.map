{"version":3,"file":"main.min.js","sources":["../../src/dragdrop/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for initializer the reactive drag drop of the question editing page.\n *\n * @module    mod_quiz/dragdrop/main\n * @copyright 2024 The Open University\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Reactive from 'mod_quiz/dragdrop/reactive';\nimport QuizDDMutations from 'mod_quiz/dragdrop/mutations';\nimport QuizDragDropParent from 'mod_quiz/dragdrop/quizdragdropparent';\n\nconst stateChangedEventName = 'mod_quiz_dragdrop:stateChanged';\n/**\n * Create reactive instance for quiz dragdrop, load initial state.\n * @param {string} domElementId Id of render container\n * @param {number} quizId Quiz id\n * @param {number} courseId Id of the\n * @returns {QuizDragDropParent}\n */\nexport const initDragDrop = (domElementId, quizId, courseId) => {\n    const reactiveInstance = new Reactive({\n        name: 'mod_quiz_dragdrop' + quizId,\n        eventName: stateChangedEventName,\n        eventDispatch: dispatchQuizDragDropEvent,\n        target: document.getElementById(domElementId),\n        mutations: new QuizDDMutations(),\n    });\n    reactiveInstance.loadQuizDragDrop(quizId, courseId);\n    return new QuizDragDropParent({\n        element: document.getElementById(domElementId),\n        reactive: reactiveInstance,\n        quizid: quizId,\n        courseid: courseId,\n    });\n};\n\n/**\n * Internal state changed event.\n *\n * @param {object} detail the full state\n * @param {object} target the custom event target (document if none provided)\n */\nfunction dispatchQuizDragDropEvent(detail, target) {\n    if (target === undefined) {\n        target = document;\n    }\n    target.dispatchEvent(\n        new CustomEvent(\n            stateChangedEventName,\n            {\n                bubbles: true,\n                detail: detail,\n            }\n        )\n    );\n}"],"names":["dispatchQuizDragDropEvent","detail","target","undefined","document","dispatchEvent","CustomEvent","bubbles","domElementId","quizId","courseId","reactiveInstance","Reactive","name","eventName","eventDispatch","getElementById","mutations","QuizDDMutations","loadQuizDragDrop","QuizDragDropParent","element","reactive","quizid","courseid"],"mappings":";;;;;;;6PA0DSA,0BAA0BC,OAAQC,aACxBC,IAAXD,SACAA,OAASE,UAEbF,OAAOG,cACH,IAAIC,YApCkB,iCAsClB,CACIC,SAAS,EACTN,OAAQA,gCAhCI,CAACO,aAAcC,OAAQC,kBACzCC,iBAAmB,IAAIC,kBAAS,CAClCC,KAAM,oBAAsBJ,OAC5BK,UAXsB,iCAYtBC,cAAef,0BACfE,OAAQE,SAASY,eAAeR,cAChCS,UAAW,IAAIC,4BAEnBP,iBAAiBQ,iBAAiBV,OAAQC,UACnC,IAAIU,4BAAmB,CAC1BC,QAASjB,SAASY,eAAeR,cACjCc,SAAUX,iBACVY,OAAQd,OACRe,SAAUd"}